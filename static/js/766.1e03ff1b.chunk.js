"use strict";(self.webpackChunkstocktrack=self.webpackChunkstocktrack||[]).push([[766],{2766:function(e,s,r){r.r(s);var t=r(1413),a=r(4165),n=r(5861),l=r(9439),i=r(2791),d=r(1134),u=r(4695),o=r(8007),c=r(1978),m=r(276),p=r(9434),x=r(7689),f=r(1993),b=r(184),h=o.Ry().shape({businessName:o.Z_().required("Business Name is required"),businessAddress:o.Z_().required("Business Address is required"),logo:o.nK().required("Logo is required")});s.default=function(){var e=(0,f.aC)(),s=(0,x.s0)(),r=((0,p.v9)((function(e){return e.user.user})),(0,i.useState)("https://www.pesmcopt.com/admin-media/images/default-logo.png")),o=(0,l.Z)(r,2),g=o[0],w=o[1],N=(0,d.cI)({resolver:(0,u.X)(h)}),v=N.register,j=N.handleSubmit,Z=N.formState.errors,k=function(){var r=(0,n.Z)((0,a.Z)().mark((function r(t){var l,i;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s("/dashboard"),r.next=3,(0,c.ET)((0,c.hJ)(f.ZP,"businesses"),{user_id:null===e||void 0===e?void 0:e.uid,businessName:t.businessName,businessAddress:t.businessAddress});case 3:if(l=r.sent,i=(0,m.iH)(f.tO,"businesses/".concat(l.id,"/image")),"https://www.pesmcopt.com/admin-media/images/default-logo.png"===g){r.next=8;break}return r.next=8,(0,m.sf)(i,g,"data_url").then((0,n.Z)((0,a.Z)().mark((function e(){var s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.Jt)(i);case 2:return s=e.sent,e.next=5,(0,c.r7)((0,c.JU)(f.ZP,"businesses",l.id),{logo:s});case 5:case"end":return e.stop()}}),e)}))));case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return(0,b.jsxs)("div",{className:"w-[100%] md:h-[500px]  md:p-8 md:w-2/3 md:shadow mx-auto mt-8 rounded p-3 my-8",children:[(0,b.jsx)("h3",{className:"text-center font-bold text-xl text-dark-purple mb-6",children:"Setup Business Profile"}),(0,b.jsxs)("form",{className:"w-full flex flex-col",onSubmit:j(k),children:[(0,b.jsx)("input",(0,t.Z)({type:"text",className:"py-2 outline-yellow-50 px-4 w-full mb-6 border capitalize rounded",id:"businessName",placeholder:"Business Name"},v("businessName"))),(null===Z||void 0===Z?void 0:Z.businessName)&&(0,b.jsx)("span",{className:"text-[red]",role:"alert",children:Z.businessName.message}),(0,b.jsx)("input",(0,t.Z)({type:"text",className:"py-2 outline-yellow-50 px-4 w-full mb-6 border capitalize rounded",id:"businessAddress",placeholder:"Business Address"},v("businessAddress"))),(null===Z||void 0===Z?void 0:Z.businessAddress)&&(0,b.jsx)("span",{className:"text-[red]",role:"alert",children:Z.businessAddress.message}),(0,b.jsxs)("div",{className:"flex items-center space-x-4 w-full",children:[(0,b.jsx)("div",{className:"flex flex-col w-1/2",children:(0,b.jsx)("img",{src:g,alt:"Logo",className:" w-full max-h-[300px]"})}),(0,b.jsxs)("div",{className:"flex flex-col w-full",children:[(0,b.jsx)("label",{htmlFor:"logo",className:"text-sm mb-1",children:"Upload logo"}),(0,b.jsx)("input",(0,t.Z)((0,t.Z)({type:"file",accept:"image/*",className:"w-full mb-6  rounded",id:"logo"},v("logo")),{},{onChange:function(e){var s=new FileReader;e.target.files[0]&&s.readAsDataURL(e.target.files[0]),s.onload=function(e){w(e.target.result)}}})),Z.logo&&(0,b.jsx)("span",{className:"text-[red]",role:"alert",children:Z.logo.message})]})]}),(0,b.jsx)("button",{className:"hover:bg-dark-purp-hover bg-dark-purple\r text-sm md:text-sm text-gray-100 w-full p-[10px] \r md:p-5 rounded my-6",type:"submit",children:"COMPLETE PROFILE"})]})]})}}}]);
//# sourceMappingURL=766.1e03ff1b.chunk.js.map